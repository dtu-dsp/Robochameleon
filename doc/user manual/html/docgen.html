<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Robochameleon: Documentation generation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Robochameleon
   &#160;<span id="projectnumber">v1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Documentation generation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#Overview">Overview</a></li>
<li class="level1"><a href="#Writing">Documenting the code</a></li>
<li class="level1"><a href="#Updating">Updating the documentation</a><ul><li class="level2"><a href="#installing">Setting up Doxygen for Matlab</a></li>
<li class="level2"><a href="#Compiling">Compiling</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>How to write and compile documentation using Doxygen</p>
<h1><a class="anchor" id="Overview"></a>
Overview</h1>
<p>Robochameleon uses Doxygen to automatically generate API documentation. Doxygen integration into Matlab is accomplished using Fabrice's perl scripts, which are saved in the \doc\scripts folder. The Matlab Central project page is <a href="http://www.mathworks.com/matlabcentral/fileexchange/25925-using-doxygen-with-matlab">here</a>.</p>
<p>In order to compile correctly, there are certain syntax rules the comments must obey. The basics are:</p><ol type="1">
<li>Comment lines should start with<div class="fragment"><div class="line">%&gt; </div></div><!-- fragment --> rather than<div class="fragment"><div class="line">% </div></div><!-- fragment --></li>
<li>Comments go immediately above what they refer to, with no whitespace in between.</li>
<li>Tags with<div class="fragment"><div class="line">@</div></div><!-- fragment --> are used to identify common fields, like brief description, author, version, ...</li>
<li>White space matters</li>
</ol>
<p>There is an example of a fully documented class below, and also some examples on the Matlab Central project page for the perl scripts.</p>
<p>For advanced formatting, see <a href="https://www.stack.nl/~dimitri/doxygen/manual/index.html">the Doxygen manual </a></p>
<h1><a class="anchor" id="Writing"></a>
Documenting the code</h1>
<p>The best way to start writing a unit is to use <a class="el" href="class_class_template__v1.html" title="A short description of the class. ">ClassTemplate_v1</a> as a template. You can see how doxygen displays the following code by clicking the above link, and the source code by opening it in matlab. The rest of this section goes through the comment structure and explains what the parts do.</p>
<p>The following three commands are used to add the unit to the list of files, classes, and module members, respectively. The text following the "brief" tag is the text that is put in the tables on those pages. </p><div class="fragment"><div class="line">%&gt; @file <a class="code" href="class_class_template__v1.html">ClassTemplate_v1</a>.m</div><div class="line">%&gt; @brief A <span class="keywordtype">short</span> description of the <span class="keyword">class</span></div><div class="line">%&gt;</div><div class="line">%&gt; <span class="keyword">@class</span> <a class="code" href="class_class_template__v1.html">ClassTemplate_v1</a></div><div class="line">%&gt; @brief A <span class="keywordtype">short</span> description of the <span class="keyword">class</span></div><div class="line">%&gt;</div><div class="line">%&gt; @ingroup {base|stableDSP|physModels|roboUtils|coreDSP}</div></div><!-- fragment --><p>After the header comes the main description of the class, which will appear at the top of the the class reference page. Markdown syntax is used to create section headings and lists. </p><div class="fragment"><div class="line">%&gt; A longer description of the <span class="keyword">class</span>, with all the details required which spans multiple lines</div><div class="line">%&gt; A longer description of the <span class="keyword">class</span>, with all the details required which spans multiple lines</div><div class="line">%&gt; A longer description of the <span class="keyword">class</span>, with all the details required which spans multiple lines</div><div class="line">%&gt;</div><div class="line">%&gt;</div><div class="line">%&gt; __Observations:__</div><div class="line">%&gt;</div><div class="line">%&gt; 1. First observation</div><div class="line">%&gt;</div><div class="line">%&gt; 2. Second observation</div><div class="line">%&gt;</div><div class="line">%&gt;</div><div class="line">%&gt; __Conventions:__</div><div class="line">%&gt; * First convention</div><div class="line">%&gt; * Second convention</div><div class="line">%&gt;</div><div class="line">%&gt;</div><div class="line">%&gt; __Example:__</div><div class="line">%&gt; @code</div><div class="line">%&gt;   % Here we put a FULLY WORKING example</div><div class="line">%&gt;   param.classtemp.param1      = 2;</div><div class="line">%&gt;   param.classtemp.param2      = <span class="stringliteral">&#39;test&#39;</span>;</div><div class="line">%&gt;   param.classtemp.param3      = <span class="keyword">false</span>;</div><div class="line">%&gt;</div><div class="line">%&gt;   clTemp = <a class="code" href="class_class_template__v1.html">ClassTemplate_v1</a>(param.classtemp);</div><div class="line">%&gt;</div><div class="line">%&gt;   param.sig.L = 10e6;</div><div class="line">%&gt;   param.sig.Fs = 64e9;</div><div class="line">%&gt;   param.sig.Fc = 193.1e12;</div><div class="line">%&gt;   param.sig.Rs = 10e9;</div><div class="line">%&gt;   param.sig.PCol = [<a class="code" href="classpwr.html">pwr</a>(20,{-2,<span class="stringliteral">&#39;dBm&#39;</span>}), <a class="code" href="classpwr.html">pwr</a>(-inf,{-inf,<span class="stringliteral">&#39;dBm&#39;</span>})];</div><div class="line">%&gt;   Ein = rand(1000,2);</div><div class="line">%&gt;   sIn = <a class="code" href="classsignal__interface.html">signal_interface</a>(Ein, param.sig);</div><div class="line">%&gt;</div><div class="line">%&gt;   sigOut = clTemp.traverse(sigIn);</div><div class="line">%&gt; @ endcode</div><div class="line">%&gt;</div><div class="line">%&gt;</div><div class="line">%&gt; __References:__</div><div class="line">%&gt;</div><div class="line">%&gt; * [1] First formatted reference</div><div class="line">%&gt; * [2] Second formatted reference</div><div class="line">%&gt;</div><div class="line">%&gt; @author Author 1</div><div class="line">%&gt; @author Author 2</div><div class="line">%&gt;</div><div class="line">%&gt; @version 1</div></div><!-- fragment --><p>The class definition goes immediately after the comment header, with no white space in between. Class property definitions should be commented above where they are defined. This is not the most useful place to put notes about default values, as this information is displayed in table format. This information should go in the constructor documentation. Multi-line (word wrapped) expressions will not appear (at all) in the documentation.</p>
<div class="fragment"><div class="line">classdef <a class="code" href="class_class_template__v1.html">ClassTemplate_v1</a> &lt; <a class="code" href="classunit.html">unit</a></div><div class="line"></div><div class="line">    properties        </div><div class="line">        %&gt; Description of param1 [measurment <a class="code" href="classunit.html">unit</a>]. (Don<span class="stringliteral">&#39;t say anything about default values, they go in the constructor)</span></div><div class="line"><span class="stringliteral">        param1 = 5</span></div><div class="line"><span class="stringliteral">        %&gt; Description of param2 [measurment unit].       </span></div><div class="line"><span class="stringliteral">        param2</span></div><div class="line"><span class="stringliteral">        %&gt; Description of param3 which is a flag that can take values true or false</span></div><div class="line"><span class="stringliteral">        param3Enabled</span></div><div class="line"><span class="stringliteral">        %&gt; Number of inputs</span></div><div class="line"><span class="stringliteral">        nInputs = 1;</span></div><div class="line"><span class="stringliteral">        %&gt; Number of outputs</span></div><div class="line"><span class="stringliteral">        nOutputs = 1;        </span></div><div class="line"><span class="stringliteral">    end</span></div></div><!-- fragment --><p>Each member function (method) should have its own documentation. The constructor is where information about default property values should go. The syntax/format for method documentation is similar to the syntax for the class. The tags param and retval can be used to label input parameters and returned values - these will be displayed in tables.</p>
<div class="fragment"><div class="line">    methods (Static)</div><div class="line">        </div><div class="line">    end</div><div class="line">    </div><div class="line">    methods</div><div class="line"></div><div class="line">        %&gt; @brief Class constructor</div><div class="line">        %&gt;</div><div class="line">        %&gt; Constructs an <span class="keywordtype">object</span> of type <a class="code" href="class_class_template__v1.html">ClassTemplate_v1</a> and more information..</div><div class="line">        %&gt; Don&#39;t put example here, since we have it in the description..</div><div class="line">        %&gt;        </div><div class="line">        %&gt; @param param.param1          Param1 description (capital first letter) [<a class="code" href="classunit.html">unit</a>]. [Default: Value]</div><div class="line">        %&gt; @param param.param2          Param2 description (capital first letter) [<a class="code" href="classunit.html">unit</a>].</div><div class="line">        %&gt; @param param.param3Enabled   Description of a flag to enable or disable something. [Default: Value]</div><div class="line">        %&gt; </div><div class="line">        %&gt; @retval obj      An instance of the class <a class="code" href="class_class_template__v1.html">ClassTemplate_v1</a></div><div class="line">        function obj = <a class="code" href="class_class_template__v1.html">ClassTemplate_v1</a>(param)                                       </div><div class="line">            % Automatically assign params to matching properties</div><div class="line">            % All the parameters without a default value specified in the property definition</div><div class="line">            % should be put in requiredParams</div><div class="line">            requiredParams = {<span class="stringliteral">&#39;param2&#39;</span>};</div><div class="line">            obj.<a class="code" href="classunit.html#a9bd6f4ded320f5d5dc49ff9e6a0d1c69">setparams</a>(param, requiredParams);                </div><div class="line">        end</div><div class="line">        </div><div class="line">        %&gt; @brief Brief description of what the traverse <span class="keyword">function</span> does</div><div class="line">        %&gt;</div><div class="line">        %&gt; @param in    The <a class="code" href="classsignal__interface.html">signal_interface</a> of the input signal that...</div><div class="line">        %&gt; </div><div class="line">        %&gt; @retval out  The <a class="code" href="classsignal__interface.html">signal_interface</a> of the signal which has been...</div><div class="line">        <span class="keyword">function</span> out = traverse(obj, in)</div><div class="line">            </div><div class="line">        end</div><div class="line">    end</div><div class="line">end</div></div><!-- fragment --><h1><a class="anchor" id="Updating"></a>
Updating the documentation</h1>
<h2><a class="anchor" id="installing"></a>
Setting up Doxygen for Matlab</h2>
<p>Running Doxygen requires Doxygen software as well as Perl. There are installation instructions <a href="http://www.mathworks.com/matlabcentral/fileexchange/25925-using-doxygen-with-matlab">here</a>, but we will reproduce them in case the link goes dead:</p>
<ol type="1">
<li>You need to have the Doxygen software installed (version 1.5.9 or newer required (tested with version 1.7.1))</li>
<li>You need to have perl installed (perl is shipped with Matlab, located usually in $matlabroot)</li>
</ol>
<p>Note for Windows users : In certain circumstances, the association between .pl files and the perl executable is not well configured, leading to "Argument must contain filename -1 at C:\DoxygenMatlab\m2cpp.pl line 4" when running doxygen. To work around this issue, you should execute the following lines in a Windows command prompt ("cmd") :</p>
<div class="fragment"><div class="line">assoc .pl=PerlScript </div><div class="line">  ftype PerlScript=C:\Program Files\MATLAB\R2010b\sys\perl\win32\bin\perl.exe %1 %* </div></div><!-- fragment --><p> (don't forget to replace the path to the perl.exe file with yours in the line above)</p>
<p>We have been running Doxygen on Windows through a linux emulator, <a href="https://www.cygwin.com/">Cygwin</a>, with no issues. Installation instructions in this case are the same - install perl (all perl modules) and Doxygen using the Cygwin installer.</p>
<h2><a class="anchor" id="Compiling"></a>
Compiling</h2>
<p>To update the Doxygen documentation run the following command from the <em>doc</em> folder:</p>
<div class="fragment"><div class="line">doxygen Doxyfile </div></div><!-- fragment --><p>then, to generate the PDF manual (refman.pdf), execute the following command from the folder <em>doc/user manual/latex</em>:</p>
<div class="fragment"><div class="line">make </div></div><!-- fragment --><p>We have not gotten the PDF to compile successfully.</p>
<p>One line command to regenerate the documentation under Linux and MAC (pdflatex and a latex distribution are required). In folder <em>doc/scripts</em> execute:</p>
<div class="fragment"><div class="line">chmod +x * &amp;&amp; ./update_documentation.sh </div></div><!-- fragment --><p><b>WARNING</b> The Doxygen configuration files uses relative path to find the source code and the necessary scripts. So if you move or rename the <em>doc</em> and <em>scripts</em> folders or the <em>Doxyfile</em> file and the scripts the documentation may not be generated correctly.</p>
<p><b>WARNING</b> Before updating the documentation edit the parameter <em>STRIP_FROM_PATH</em> in the file <em>Doxyfile</em> from the <em>doc</em> folder by inserting the absolute path of the robochameleon root folder.</p>
<p><b>WARNING</b> All the files in the folders <em>base</em>, <em>devel</em>, <em>library</em>, <em>utils</em> are documented, also the ones not tracked by git. Before updating the documentation it's better to temporary clone a vanilla version of the repository in a new directory and update the documentation from there so that there won't be any spurious files. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Sep 6 2016 13:01:46 for Robochameleon by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
